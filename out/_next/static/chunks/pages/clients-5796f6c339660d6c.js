(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[839],{2980:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/clients",function(){return t(535)}])},535:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return p}});var n=t(5893),i=t(1163),d=t(7294),r=t(1955),l=t(1140),c=t(1752),o=t.n(c),s=t(5250),h=t(1993);let{publicRuntimeConfig:u}=o()(),_="".concat(u.apiUrl),m={getAll:async e=>{try{return await h.Z.get("".concat(_).concat("api/clients"),{params:e}).then(async e=>{var a;return await (null==e?void 0:null===(a=e.data)||void 0===a?void 0:a.body)})}catch(e){(0,s.Z)(null==e?void 0:e.response)}}},f=[{field:"rowNumber",headerName:"#",width:.1},{field:"name",headerName:"الاسم",width:130},{field:"last_name",headerName:"الكنية",width:130},{field:"email",headerName:"البريد الالكتروني",width:130},{field:"national_id",headerName:"الرقم الوطني",width:170},{field:"phone",headerName:"رقم الهاتف",width:170},{field:"created_at",headerName:"تاريخ التسجيل",width:160},{field:"address",headerName:"العنوان",width:170},{field:"center_name",headerName:"اسم المركز",width:170},{field:"devices_count",headerName:"عدد الاجهزة",width:170}];function w(){let[e,a]=(0,d.useState)([]);(0,d.useEffect)(()=>{(async()=>{let e=await m.getAll({});e?a(e):a([])})()},[]);let t=e.map((e,a)=>({id:e.id,rowNumber:a+1,name:e.name,last_name:e.last_name,email:e.email,national_id:e.national_id,phone:e.phone,created_at:e.created_at,address:e.address,center_name:e.center_name,devices_count:e.devices_count}));return(0,n.jsx)("div",{style:{height:400,width:"100%"},children:(0,n.jsx)(l._$,{rows:t,columns:f,initialState:{pagination:{paginationModel:{page:0,pageSize:5}}},pageSizeOptions:[5,10],checkboxSelection:!0})})}function p(){let e=(0,i.useRouter)();return(0,d.useEffect)(()=>{r.Z.get("auth-token")||e.push("/auth/login")},[e]),(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(w,{})})}}},function(e){e.O(0,[410,140,888,774,179],function(){return e(e.s=2980)}),_N_E=e.O()}]);